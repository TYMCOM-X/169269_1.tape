TYMCOM-X MONITOR REFERENCE MANUAL
FEBRUARY 9, 1978
CONTENTS
1        JOBS, PROGRAMS AND PROCESSES.................1
1.1        IDENTIFICATION: AUN, FPN, AND PPN..........1
1.1.1        GETPPN...................................2
1.1.2        CHGPPN...................................2
1.2        MEMORY ORGANIZATION........................3
1.2.1        HIGH AND LOW SEGMENTS....................3
1.2.2        JOB DATA AREA............................3
1.2.3        PROGRAMS.................................7
1.2.3.1        FILE NAMES AND FORMATS.................7
1.2.3.2        PROGRAM-RELATED UUOS...................8
1.2.3.2.1        RUN..................................8
1.2.3.2.2        RUNSEG...............................13
1.2.3.2.3        GETSEG...............................17
1.2.3.2.4        SETNAM...............................19
1.2.3.2.5        RESET................................19
1.2.3.2.6        EXIT.................................20
1.2.3.2.7        PJOB.................................21
1.2.3.2.8        RUNTIM...............................21
1.2.3.2.9        SETDDT...............................22
1.2.3.3        PROGRAM-RELATED COMMANDS...............22
1.2.4        SEGMENT MANIPULATION UUOS................23
1.2.4.1        REMAP..................................23
1.2.4.2        CORE...................................24
1.2.4.3        SETUWP.................................25
1.3        LICENSE AND PRIVILEGE......................26
1.3.1        JOB PRIVILEGE WORD.......................26
1.3.1.1        SETPRV.................................28
1.3.1.2        SETMAL.................................28
1.3.2        LICENSE..................................29
1.3.2.1        READING................................31
1.3.2.2        SETTING................................31
1.3.2.3        CHECKING...............................32
1.3.2.4        SETE UUO...............................33
1.3.3        JOB STATUS WORD..........................33
1.3.3.1        READING................................36
1.3.3.2        SETTING................................36
1.4        TMPCOR FILES...............................36
1.4.1        GET FREE SPACE COUNT.....................37
1.4.2        READ FILE................................37
1.4.3        CREATE FILE..............................38
1.4.4        READ DIRECTORY...........................39
2        GENERAL I/O..................................40
2.1        CHANNELS...................................40
CONTENTS
2.2        DEVICE ASSIGNMENT..........................40
2.2.1        DEVICE AVAILABILITY......................41
2.2.2        LOGICAL NAME ASSIGNMENT..................41
2.2.3        DEVICE NAMES.............................42
2.3        CHANIO.....................................42
2.4        INITIALIZING...............................42
2.5        CLOSING....................................44
2.6        RELEASING..................................45
2.6.1        RESET UUO................................46
2.7        FILE STATUS BITS...........................46
2.7.1        DATA MODES...............................48
2.7.2        READING..................................49
2.7.3        CONDITIONALLY TESTING....................49
2.7.4        SETTING..................................50
2.8        GENERAL DEVICE UUOS........................50
2.8.1        REASSIGNING DEVICES......................51
2.8.2        DEVICE CHARACTERISTICS WORD..............52
2.8.3        READING PHYSICAL NAME....................53
2.8.4        READING PPN..............................54
2.8.5        WAITING UNTIL INACTIVE...................54
2.8.6        DEVICE HARDWARE STATUS...................55
2.9        SYSDVF.....................................55
3        BUFFERED MODE I/O............................59
3.1        BUFFER RING HEADERS........................60
3.2        BUFFER FORMAT..............................60
3.3        SETTING UP BUFFER RINGS....................62
3.3.1        USER-CONSTRUCTED BUFFER RINGS............62
3.3.1.1        READING STANDARD BUFFER SIZE...........62
3.3.1.2        INITIAL CONDITIONS FOR BUFFERED I/O....62
3.3.2        BUFFER-CONSTRUCTING UUOS.................63
3.3.3        MOVING BUFFERS AND RING HEADERS..........64
3.4        INPUT AND OUTPUT OPERATIONS................64
3.4.1        INPUT UUOS...............................64
3.4.2        OUTPUT UUOS..............................66
3.4.3        SYNCHRONIZATION OF BUFFERED I/O..........67
3.4.4        I/O ERRORS...............................68
4        DUMP MODE I/O................................69
4.1        INPUT AND OUTPUT OPERATIONS................69
4.1.1        INPUT UUOS...............................69
4.1.2        OUTPUT UUOS..............................70
4.1.3        ERRORS...................................71
I
CONTENTS
5        DISK I/O.....................................73
5.1        DEVICE NAMES...............................73
5.1.1        LOGICAL UNIT NAMES.......................74
5.1.2        PHYSICAL NAMES...........................74
5.1.3        ABBREVIATIONS............................75
5.2        BUFFERED I/O...............................75
5.3        DUMP MODE I/O..............................75
5.4        DIRECTORIES................................75
5.4.1        MASTER FILE DIRECTORY....................76
5.4.2        USER FILE DIRECTORIES....................76
5.4.3        READING..................................76
5.5        JOB SEARCH LIST............................78
5.6        STORAGE ALLOCATION TABLE...................79
5.7        FILE ORGANIZATION..........................79
5.8        FILE ACCESS PROTECTION.....................80
5.8.1        LICENSE..................................82
5.9        DIRECTORY ACCESS PROTECTION................82
5.9.1        LICENSE..................................83
5.10       FILE SELECTION.............................84
5.10.1       ARGUMENT BLOCKS..........................85
5.10.1.1       ARGUMENT PROTECTION CODES..............86
5.10.1.2       SHORT LOOKUP/ENTER/RENAME BLOCK........88
5.10.1.3       EXTENDED LOOKUP/ENTER/RENAME BLOCK.....91
5.10.2       LOOKUP...................................99
5.10.3       ENTER....................................100
5.10.4       RENAME...................................102
5.10.5       FILE SELECTION ERROR CODES...............104
5.10.6       CLOSE ACTION.............................106
5.10.7       SETTING FILE LICENSE.....................107
5.11       FILE POSITIONING...........................108
5.11.1       SUPER USETI/O............................109
5.11.2       USETI....................................109
5.11.3       USETO....................................111
5.11.4       SEEK.....................................113
5.12       DIRECT PAGE MANIPULATION...................114
5.12.1       CREATING A PAGE..........................114
5.12.2       EXCHANGING PAGES.........................115
5.12.3       DELETING A PAGE..........................116
5.13       OTHER DISK UUOS............................116
5.13.1       DSKCHR...................................116
5.13.2       DSKCLR...................................120
5.13.3       SYSPHY AND SYSSTR........................120
5.13.4       UGETF....................................121
II
CONTENTS
6        MAGNETIC TAPE I/O............................122
6.1        DEVICE NAMES...............................122
6.2        RECORDING MODES............................122
6.3        PARITY.....................................123
6.4        RECORDING DENSITIES........................123
6.5        BEGIN AND END OF TAPE BITS.................123
6.6        BUFFERED I/O...............................124
6.7        DUMP MODE I/O..............................124
6.7.1        NON-INTEGRAL WORD COUNTS.................124
6.7.2        ACTUAL WORD/BYTE COUNTS..................125
6.8        MTAPE......................................125
6.9        UGETF......................................126
6.10       FILE STATUS BITS...........................128
7        PORT I/O.....................................129
7.1        PORT NUMBERS AND DEVICE NAMES..............129
7.2        COMMAND PORTS..............................129
7.2.1        DETACHING................................129
7.2.2        ATTACHING................................130
7.2.3        READING COMMAND PORT NAME................130
7.3        AUXILIARY PORTS............................131
7.3.1        CREATING.................................131
7.3.2        SLAVING COMMAND PORTS....................133
7.3.3        READING PORT NUMBERS.....................134
7.3.4        ZAPPING..................................135
7.4        RESET UUO..................................135
7.5        AUXCAL.....................................135
7.6        TTCALL.....................................136
7.7        CHARACTER HANDLING.........................136
7.7.1        KATAKANA DATA MODE.......................136
7.7.2        INPUT....................................137
7.7.2.    CASE MAPPING...........................137
7.7.2.2        SPECIAL CHARACTERS.....................138
7.7.2.2.1        LINE EDITING.........................138
7.7.2.2.2        ESCAPE...............................139
7.7.2.2.3        OUTPUT SUPPRESS......................140
7.7.2.2.4        EOF..................................140
7.7.2.2.5        MONITOR MODES........................140
7.7.2.3        BREAK CHARACTERS.......................141
7.7.2.4        IMAGE STATE............................142
7.7.2.4.1        BREAKS...............................143
7.7.2.4.2        IMAGE BREAK CHARACTER................144
7.7.3        ECHOING..................................144
7.7.3.1        TURNING OFF ECHOING....................145
III
CONTENTS
7.7.3.1.1        HALF-DUPLEX..........................145
7.7.3.1.2        NO ECHO..............................146
7.7.3.1.3        LOCAL COPY...........................146
7.7.3.2        YELLOW AND ORANGE BALLS................147
7.7.3.3        FAKING INPUT WAIT......................148
7.7.3.4        SPECIAL CHARACTERS.....................148
7.7.3.4.1        BACKSPACE............................148
7.7.3.4.2        DELETED CHARACTERS...................148
7.7.3.4.3        ESCAPE...............................149
7.7.4        OUTPUT...................................149
7.7.4.1        IMAGE CHARACTERS.......................149
7.7.4.2        LINE WIDTH AND LINE POSITION...........149
7.7.4.3        HT, VT, AND FF SIMULATION..............150
7.7.4.4        CARRIAGE-RETURN AND LINEFEED DELAYS....150
7.7.4.4.1        CARRIAGE-RETURN DELAY FORMULA........151
7.7.4.4.2        LINEFEED DELAY FORMULA...............151
7.7.4.5        HT, VT, AND FF DELAYS..................152
7.7.4.5.1        HT FILLER CLASS......................152
7.7.4.5.2        VT AND FF FILLER CLASS...............152
7.7.5        PARITY...................................153
7.8        BUFFERING AND BACKPRESSURE.................153
7.8.1        HOST NO XON..............................154
7.8.2        REMOTE XON...............................154
7.8.3        REVERSE XON..............................154
7.8.4        FLUSHING INPUT...........................154
7.8.5        FLUSHING OUTPUT..........................155
7.9        PAPER TAPE MODE............................155
7.10       BAUD RATES.................................156
7.11       I/O UUOS...................................156
7.11.1       CHARACTER I/O UUOS.......................156
7.11.1.1       INPUT..................................156
7.11.1.1.1       IMAGE STATE..........................161
7.11.1.1.2       TESTING..............................163
7.11.1.1.3       FAKING...............................164
7.11.1.1.4       MISCELLANEOUS COMMAND PORT UUOS......164
7.11.1.1.4.1       REDNXT.............................164
7.11.1.1.4.2       WAITCH.............................165
7.11.1.1.4.3       RESCAN.............................165
7.11.1.2       OUTPUT.................................165
7.11.1.2.1       SINGLE-CHARACTER.....................165
7.11.1.2.2       STRING...............................169
7.11.2       DDT MODE I/O.............................172
7.11.3       BUFFERED I/O.............................173
7.11.4       BLOCK I/O................................174
IV
CONTENTS
7.11.4.1       ENTERING BLOCK I/O MODE................174
7.11.4.2       LEAVING BLOCK I/O MODE.................174
7.11.4.3       BUFFER FORMAT..........................175
7.11.4.4       DATA MODES.............................175
7.11.4.5       INPUT..................................176
7.11.4.5.1       TERMINATION..........................178
7.11.4.5.2       INTERACTION WITH NON-BLOCK INPUT.....178
7.11.4.6       OUTPUT.................................179
7.11.4.6.1       TERMINATION..........................179
7.11.4.6.2       INTERACTION WITH NON-BLOCK OUTPUT....180
7.12       CIRCUIT AND TERMINAL-CHARACTERISTICS UUOS..180
7.12.1       LINE CHARACTERISTICS WORD................180
7.12.2       FILE STATUS BITS.........................182
7.12.3       AUXCAL READ/SET FUNCTIONS................184
8        CARD READER INPUT............................186
8.1        ASCII MODE INPUT...........................186
8.2        IMAGE MODE INPUT...........................186
8.3        BINARY MODE INPUT..........................187
8.4        CARD CODES.................................188
8.5        FILE STATUS BITS...........................189
9        LINE PRINTER OUTPUT..........................190
9.1        OUTPUT.....................................190
9.2        FORMFEEDS..................................190
9.3        FILE STATUS BITS...........................190
10       PAPER TAPE I/O...............................191
10.1       LEADERS AND TRAILERS.......................191
10.2       ASCII MODE I/O.............................191
10.3       IMAGE MODE I/O.............................192
10.4       IMAGE BINARY MODE I/O......................192
10.5       BINARY MODE I/O............................192
10.6       FILE STATUS BITS...........................193
11       PLOTTER OUTPUT...............................194
11.1       OUTPUT.....................................194
11.2       HARDWARE ACTION............................194
12       PAGING.......................................196
12.1       HARDWARE PAGING............................196
12.2       SOFTWARE PAGING............................196
12.2.1       NONEXISTENT, PRIVATE, AND FILE PAGES.....197
12.2.2       WORKING SETS.............................197
V
CONTENTS
12.2.3       SHARING..................................198
12.2.4       PROTECTION...............................198
12.3       MAP MANIPULATION UUOS......................198
12.3.1       CREATING PRIVATE PAGES...................199
12.3.2       UNMAPPING VIRTUAL PAGES..................200
12.3.3       REPLICATING VIRTUAL PAGES................201
12.3.4       MAPPING FILE PAGES.......................202
12.3.4.1       SUPER-MAPPING..........................203
12.3.5       CHANGING PROTECTION......................205
12.4       WORKING SET MANIPULATION UUOS..............206
12.4.1       WSMAX, WSLIM, WSSIZ......................207
12.4.2       WORKING SET MEMBERSHIP...................208
12.4.3       PREREFERENCING...........................210
12.5       PAGING-RELATED ERRORS......................211
12.5.1       ILLEGAL MEMORY REFERENCES................211
12.5.2       PAGE FAULTS..............................211
12.5.2.1       PAGE FAULT WORD........................212
12.5.3       PAGE ERRORS..............................213
12.5.3.1       PERSET UUO.............................213
12.5.3.2       VALIDATING PAGES.......................214
12.5.3.3       VALIDATING FILE RIBS...................215
12.6       REFERENCE BITS.............................216
12.7       PAGE INFORMATION...........................218
12.7.1       PAGE STATUS WORD.........................218
12.7.2       TESTING FOR FILE MEMBERSHIP..............220
12.7.3       RETRIEVAL POINTER........................220
12.8       COMMON ERROR CODES.........................221
13       INTERRUPTS AND SLEEPING......................225
13.1       TRAPPING ARITHMETIC AND STACK OVERFLOWS....225
13.1.1       ARITHMETIC OVERFLOW......................225
13.1.2       STACK OVER/UNDERFLOW.....................226
13.2       APRENB INTERRUPTS..........................226
13.2.1       ENABLING APRENB TRAPPING.................228
13.2.2       DISMISSING APRENB INTERRUPTS.............229
13.3       INTADR INTERRUPTS..........................229
13.3.1       INITIALIZING THE INTADR SYSTEM...........230
13.3.2       ASSIGNING CAUSES TO CHANNELS.............231
13.3.2.1       ASSIGNING PORT CAUSES..................231
13.3.2.2       ASSIGNING GENERAL CAUSES...............232
13.3.2.3       ASSIGNING TIMER INTERRUPTS.............234
13.3.3       ENABLING AND DISABLING CHANNELS..........235
13.3.4       READING IN-PROGRESS BITS.................235
13.3.5       CAUSING AND UNCAUSING INTERRUPTS.........236
VI
CONTENTS
13.3.6       DISMISSING INTADR INTERRUPTS.............236
13.4       SLEEPING...................................237
13.4.1       HIBER UUO................................237
13.4.2       SLEEP UUO................................238
13.5       WAKE UUO...................................238
13.6       INTERACTIONS...............................238
14       ENVIRONMENTAL INFORMATION....................240
14.1       DATES AND TIMES............................240
14.1.1       TIME ZONES...............................240
14.1.2       PROCESS TIME ZONES.......................241
14.1.3       DATUUO...................................242
14.1.4       DATE.....................................242
14.1.5       MSTIME...................................243
14.1.6       TIMER....................................243
14.2       GETTABS....................................243
14.2.1       THE GETTAB UUO...........................244
14.2.2       GETTAB TABLES BY FUNCTION................245
14.2.2.1       BLOCK I/O USAGE........................245
14.2.2.2       TERMINAL I/O USAGE.....................245
14.2.2.3       DISK I/O USAGE.........................245
14.2.2.4       PORT DATA..............................245
14.2.2.5       CPU USAGE..............................245
14.2.2.6       PAGING DATA............................246
14.2.2.7       JOB DATA...............................246
14.2.2.8       GLOBAL MONITOR DATA....................246
14.2.3       .GTCNF ITEMS.............................247
14.2.4       .GTLOG DATA..............................247
14.2.5       .GTLVD ITEMS.............................249
14.2.6       .GTNSW ITEMS.............................250
14.2.7       .GTODP ITEMS.............................250
14.2.8       .GTWSN ITEMS.............................250
14.3       PEEKING AND POKEING........................252
14.4       LIGHTS AND SWITCHES........................253
15       SYSTEM CONTROL...............................254
15.1       LOGINS AND LOGOUTS.........................254
15.1.1       LOGIN UUO................................254
15.1.2       LOGOUT UUO...............................255
15.1.3       HANG UUO.................................255
15.1.4       ONEJOB UUO...............................256
15.2       SETUUO.....................................256
15.2.1       OUTSTR TO OPR TERMINAL...................257
15.2.2       SET STATES...............................257
VII
CONTENTS
15.2.3       FINISH AUTO-RESTART......................257
15.2.4       SET TIME.................................258
15.2.5       SET DATE.................................258
15.2.6       SET OPR TERMINAL.........................258
15.2.7       SET WATCH BITS...........................259
15.3       ACCOUNTING.................................259
15.3.1       STREAM ACCOUNTING........................259
15.3.1.1       RECORD TYPES...........................260
15.3.1.2       RECORD LENGTHS.........................261
15.3.1.3       RECORD FORMATS.........................262
15.3.1.4       RECORDS WRITTEN BY MONITOR.............267
15.3.1.5       PUTSAR UUO.............................268
15.3.1.6       PUTLSA.................................269
15.3.2       TRANSACTION CHARGING.....................269
15.3.2.1       SAVING CHARGES.........................271
15.3.2.2       READING SAVED CHARGES..................272
15.3.2.3       READING CURRENT CHARGES................272
15.3.2.4       SETTING CHARGES........................273
15.3.3       ROYALTY CHARGING.........................275
15.4       RESTRICTED COMMAND MODE....................275
15.5       PROJECT CODES..............................276
SYSTEM CALLS BY NUMBER.......................278
SYSTEM CALLS BY NAME.........................285
INDEX........................................291
VIII
TABLES
1-1      JOB DATA AREA.....................................4
1-2      JOB PRIVILEGE WORD................................26
1-3      LICENSE BITS......................................30
1-4      JOB STATUS WORD...................................35
2-1      DEVICE-INDEPENDENT FILE STATUS BITS...............47
2-2      DATA MODES........................................48
2-3      DEVICE CHARACTERISTICS WORD.......................53
2-4      SYSDVF FUNCTION CODES.............................56
5-1      FILE PROTECTION CODES.............................81
5-2      DIRECTORY PROTECTION BITS.........................83
5-3      ARGUMENT CODES....................................86
5-4      SHORT LOOKUP/ENTER/RENAME BLOCK...................88
5-5      EXTENDED LOOKUP/ENTER/RENAME BLOCK................91
5-6      FILE SELECTION ERROR CODES........................105
5-7      DSKCHR DATA BLOCK.................................117
5-8      DSKCHR STATUS BITS................................118
6-1      MTAPE FUNCTIONS...................................125
6-2      UGETF FUNCTION CODES..............................126
6-3      FTA FILE STATUS BITS..............................128
7-1      CREAUX ERROR CODES................................133
7-2      MONITOR MODES & SPECIAL CHARACTERS................141
7-3      PORT CHARACTER INPUT CALLS........................157
7-4      PORT CHARACTER OUTPUT CALLS.......................166
7-5      PORT STRING OUTPUT CALLS..........................169
7-6      LINE CHARACTERISTICS WORD.........................180
7-7      PORT FILE STATUS BITS.............................182
8-1      029 ASCII CODE....................................188
8-2      026 ASCII CODE....................................189
8-3      CDR FILE STATUS BITS..............................189
9-1      LPT FILE STATUS BITS..............................190
10-1     PTP/PTR FILE STATUS BITS..........................193
11-1     PLOTTER COMMAND BITS..............................194
12-1     PAGE PROTECTION CODES.............................199
12-2     VCREAT ERROR CODES................................200
12-3     VPROT ERROR CODES.................................206
12-4     WSCTL ERROR CODES.................................207
12-5     PREREF ERROR CODES................................210
12-6     PAGE FAULT WORD...................................212
12-7     PERSET ERROR CODES................................214
12-8     VALPAG ERROR CODES................................215
12-9     REFBIT ERROR CODES................................217
12-10    PAGE STATUS WORD FORMAT...........................219
12-11    PAGSTS ERROR CODE.................................220
12-12    COMMON PAGING ERROR CODES.........................222
311
TABLES
13-1     APRENB INTERRUPT BITS.............................227
13-2     TINASS INTERRUPT CAUSES...........................231
13-3     INTASS INTERRUPT CAUSES...........................233
14-1     TIME ZONES........................................240
14-2     GETTAB PROTECTION METHODS.........................244
14-3     .GTCNF ITEMS......................................247
14-4     .GTLOG BITS.......................................248
14-5     TERMINAL IDENTIFIER CODES.........................249
14-6     .GTLVD ITEMS......................................249
14-7     .GTNSW ITEMS......................................250
14-8     .GTODP ITEMS......................................250
14-9     WAIT STATE CODES..................................251
15-1     WATCH BITS........................................259
15-2     STREAM ACCOUNTING RECORD TYPES....................260
15-3     STREAM ACCOUNTING RECORD LENGTHS..................261
15-4     ACCOUNTING RECORD WORDS 0-4.......................262
15-5     GET/RUN/START... ACCOUNTING RECORD WORDS 5-7......262
15-6     CHANGE PROJECT CODE RECODE WORDS 5-7..............262
15-7     .XCSET XCHARG RECORD WORDS 5-'35..................263
15-8     SYSTEM INITIALIZATION RECORD WORDS 0-1............263
15-9     DATE CHANGE RECORD WORDS 0-5......................263
15-10    LOCAL STREAM ACCOUNTING RECORD WORDS 5-7..........264
15-11    SETLIC/SETE RECORD WORDS 5-7......................264
15-12    LICENSE-SETTING RUN RECORD WORDS 0-2..............264
15-13    LOGINN RECORD WORDS 3-6...........................265
15-14    UPTIME RECORD WORDS 0-2...........................265
15-15    LOGOUT/CHKPNT RECORD WORDS 5-'34..................266
15-16    RESTART RECORD WORDS 0-1..........................267
15-17    ERROR RECORD WORDS 0-1............................267
15-18    PUTSAR ERROR CODES................................269
15-19    XCHARG CHARGE TABLE ENTRIES.......................271
15-20    .XCSET ERROR CODES................................275
312
"@(È